{% extends 'base.html' %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <h1 class="display-4 font-playfair mb-4">Willkommen bei LK Nails & Lashes</h1>
                <p class="lead mb-4">Ihr professionelles Beauty-Studio für erstklassige Nagel- und Wimpernbehandlungen in Deutschland. Erleben Sie Luxus und Entspannung in unserem modernen Studio.</p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="{% url 'book_appointment' %}" class="btn btn-primary-custom btn-lg">
                        <i class="fas fa-calendar-plus me-2"></i>Termin buchen
                    </a>
                    <a href="{% url 'services' %}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-list me-2"></i>Services ansehen
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Services -->
<section class="py-5 bg-secondary-custom">
    <div class="container">
        <h2 class="section-title font-playfair">Unsere beliebtesten Services</h2>
        <div class="row">
            {% for service in featured_services %}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card service-card h-100">
                        {% if service.image %}
                            <img src="{{ service.image.url }}" class="card-img-top" alt="{{ service.name }}">
                        {% else %}
                            <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
                                <i class="fas fa-gem fa-3x text-primary-custom"></i>
                            </div>
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ service.name }}</h5>
                            <p class="card-text flex-grow-1">{{ service.description|truncatewords:15 }}</p>
                            <div class="d-flex justify-content-between align-items-center mt-auto">
                                <span class="price-badge">€{{ service.price }}</span>
                                <small class="text-muted">{{ service.get_duration_display }}</small>
                            </div>
                            <a href="{% url 'service_detail' service.id %}" class="btn btn-primary-custom mt-3">Details ansehen</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col-12 text-center">
                    <p>Noch keine Services verfügbar.</p>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'services' %}" class="btn btn-outline-primary">Alle Services ansehen</a>
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section class="py-5">
    <div class="container">
        <h2 class="section-title font-playfair">Warum LK Nails & Lashes?</h2>
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-award fa-3x text-primary-custom"></i>
                    </div>
                    <h5>Professionelle Qualität</h5>
                    <p>Hochqualifizierte Nageldesignerinnen und Wimpernstylisten mit jahrelanger Erfahrung in der Beauty-Branche.</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-heart fa-3x text-primary-custom"></i>
                    </div>
                    <h5>Hygiene & Sicherheit</h5>
                    <p>Höchste Hygienestandards und sterilisierte Geräte für Ihre Sicherheit und Gesundheit.</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-palette fa-3x text-primary-custom"></i>
                    </div>
                    <h5>Kreative Designs</h5>
                    <p>Individuelle und trendige Nageldesigns, die Ihre Persönlichkeit unterstreichen.</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <div class="text-center">
                    <div class="mb-3">
                        <i class="fas fa-clock fa-3x text-primary-custom"></i>
                    </div>
                    <h5>Flexible Termine</h5>
                    <p>Bequeme Online-Terminbuchung und flexible Zeiten für Ihren Komfort.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Preview -->
{% if featured_gallery %}
<section class="py-5 bg-secondary-custom">
    <div class="container">
        <h2 class="section-title font-playfair">Unsere Arbeiten</h2>
        <div class="row">
            {% for item in featured_gallery %}
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="gallery-item position-relative">
                        {% if item.image %}
                            <img src="{{ item.image.url }}" alt="{{ item.title }}" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
                        {% else %}
                            <!-- Placeholder for demo -->
                            <div class="placeholder-img d-flex align-items-center justify-content-center rounded text-white"
                                 style="height: 200px; background: linear-gradient(45deg, #ff69b4, #ff1493);">
                                <div class="text-center">
                                    <i class="fas fa-nail-polish fa-2x mb-2"></i>
                                    <h6>{{ item.title }}</h6>
                                </div>
                            </div>
                        {% endif %}
                        <div class="position-absolute bottom-0 start-0 end-0 bg-gradient-dark text-white p-3">
                            <h6 class="mb-0">{{ item.title }}</h6>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'gallery' %}" class="btn btn-outline-primary">Komplette Galerie ansehen</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Recent Blog Posts -->
{% if recent_posts %}
<section class="py-5">
    <div class="container">
        <h2 class="section-title font-playfair">Beauty-Tipps & News</h2>
        <div class="row">
            {% for post in recent_posts %}
                <div class="col-lg-4 mb-4">
                    <div class="card h-100">
                        {% if post.featured_image %}
                            <img src="{{ post.featured_image.url }}" class="card-img-top" alt="{{ post.title }}" style="height: 200px; object-fit: cover;">
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ post.title }}</h5>
                            <p class="card-text flex-grow-1">{{ post.excerpt|default:post.content|truncatewords:20 }}</p>
                            <small class="text-muted mb-3">{{ post.created_at|date:"d. F Y" }}</small>
                            <a href="{% url 'blog_detail' post.slug %}" class="btn btn-outline-primary mt-auto">Weiterlesen</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'blog' %}" class="btn btn-outline-primary">Alle Beiträge ansehen</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Customer Reviews -->
{% if reviews %}
<section class="py-5 bg-secondary-custom">
    <div class="container">
        <h2 class="section-title font-playfair">Was unsere Kunden sagen</h2>
        <div class="row">
            {% for review in reviews %}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                {% for i in "12345"|make_list %}
                                    {% if forloop.counter <= review.rating %}
                                        <i class="fas fa-star text-warning"></i>
                                    {% else %}
                                        <i class="far fa-star text-warning"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <p class="card-text">"{{ review.comment }}"</p>
                            <footer class="blockquote-footer mt-3">
                                <cite title="Source Title">{{ review.customer.user.get_full_name|default:review.customer.user.username }}</cite>
                                {% if review.service %}
                                    <small class="text-muted d-block">{{ review.service.name }}</small>
                                {% endif %}
                            </footer>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Call to Action -->
<section class="py-5 bg-primary-custom text-white">
    <div class="container text-center">
        <h2 class="font-playfair mb-4">Bereit für Ihren perfekten Look?</h2>
        <p class="lead mb-4">Buchen Sie noch heute Ihren Termin und lassen Sie sich von unserem professionellen Team verwöhnen.</p>
        <a href="{% url 'book_appointment' %}" class="btn btn-light btn-lg">
            <i class="fas fa-calendar-plus me-2"></i>Jetzt Termin buchen
        </a>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.bg-gradient-dark {
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
}
</style>
{% endblock %}